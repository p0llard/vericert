<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>VeriCert</title>
<!-- 2020-08-13 Thu 12:55 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="css/org.css" type="text/css" media="screen" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">VeriCert</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Features</a></li>
<li><a href="#sec-2">2. Building</a>
<ul>
<li><a href="#sec-2-1">2.1. Downloading CompCert</a></li>
<li><a href="#sec-2-2">2.2. Setting up Nix</a></li>
<li><a href="#sec-2-3">2.3. Makefile build</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Running</a></li>
</ul>
</div>
</div>
<p>
A formally verified high-level synthesis (HLS) tool written in Coq, building on top of <a href="https://github.com/AbsInt/CompCert">CompCert</a>.  This ensures the correctness of the C to Verilog translation according to our Verilog semantics and CompCert's C semantics, removing the need to check the resulting hardware for behavioural correctness.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Features</h2>
<div class="outline-text-2" id="text-1">
<p>
The project is currently a work in progress, so proofs remain to be finished.  Currently, the following C features are supported, but are not all proven correct yet:
</p>

<ul class="org-ul">
<li>all int operations,
</li>
<li>non-recursive function calls,
</li>
<li>local arrays and pointers
</li>
<li>control-flow structures such as if-statements, for-loops, etc&#x2026;
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Building</h2>
<div class="outline-text-2" id="text-2">
<p>
To build Vericert, the provided Makefile can be used. External dependencies are needed to build the project, which can be pulled in automatically with <a href="https://nixos.org/nix/">nix</a> using the provided <code>default.nix</code> and <code>shell.nix</code> files.
</p>

<p>
The project is written in Coq, a theorem prover, which is extracted to OCaml so that it can then be compiled and executed. The dependencies of this project are the following:
</p>

<ul class="org-ul">
<li><a href="https://coq.inria.fr/">Coq</a>: theorem prover that is used to also program the HLS tool.
</li>
<li><a href="https://ocaml.org/">OCaml</a>: the OCaml compiler to compile the extracted files.
</li>
<li><a href="https://github.com/mit-plv/bbv">bbv</a>: an efficient bit vector library.
</li>
<li><a href="https://github.com/ocaml/dune">dune</a>: build tool for ocaml projects to gather all the ocaml files and compile them in the right order.
</li>
<li><a href="http://gallium.inria.fr/~fpottier/menhir/">menhir</a>: parser generator for ocaml.
</li>
<li><a href="https://github.com/ocaml/ocamlfind">findlib</a> to find installed OCaml libraries.
</li>
<li><a href="https://gcc.gnu.org/">GCC</a>: compiler to help build CompCert.
</li>
</ul>

<p>
These dependencies can be installed manually, or automatically through Nix.
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Downloading CompCert</h3>
<div class="outline-text-3" id="text-2-1">
<p>
CompCert is added as a submodule in the <code>lib/CompCert</code> directory. It is needed to run the build process below, as it is the one dependency that is not downloaded by nix, and has to be downloaded together with the repository. To clone CompCert together with this project, you can run:
</p>

<div class="org-src-container">

<pre class="src src-shell">git clone --recursive https://github.com/ymherklotz/vericert
</pre>
</div>

<p>
If the repository is already cloned, you can run the following command to make sure that CompCert is also downloaded:
</p>

<div class="org-src-container">

<pre class="src src-shell">git submodule update --init
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> Setting up Nix</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Nix is a package manager that can create an isolated environment so that the builds are reproducible. Once nix is installed, it can be used in the following way.
</p>

<p>
To open a shell which includes all the necessary dependencies, one can use:
</p>

<div class="org-src-container">

<pre class="src src-shell">nix-shell
</pre>
</div>

<p>
which will open a shell that has all the dependencies loaded.
</p>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Makefile build</h3>
<div class="outline-text-3" id="text-2-3">
<p>
If the dependencies were installed manually, or if one is in the <code>nix-shell</code>, the project can be built by running:
</p>

<div class="org-src-container">

<pre class="src src-shell">make -j8
</pre>
</div>

<p>
and installed locally, or under the <code>PREFIX</code> location using:
</p>

<div class="org-src-container">

<pre class="src src-shell">make install
</pre>
</div>

<p>
Which will install the binary in <code>./bin/vericert</code> by default. However, this can be changed by changing the <code>PREFIX</code> environment variable, in which case the binary will be installed in <code>$PREFIX/bin/vericert</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Running</h2>
<div class="outline-text-2" id="text-3">
<p>
To test out <code>vericert</code> you can try the following examples which are in the test folder using the following:
</p>

<div class="org-src-container">

<pre class="src src-shell">./bin/vericert test/loop.c -o loop.v
./bin/vericert test/conditional.c -o conditional.v
./bin/vericert test/add.c -o add.v
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2020-08-13 Thu 12:55</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.2.2 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
